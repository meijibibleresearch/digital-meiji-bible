<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Meiji Bible Comparison</title>
</head>
<body>
  <h1>Meiji Bible Comparison Tool</h1>

  <label for="verses">Enter verses (e.g. John 3:16, Psalm 23:1-2):</label><br>
  <input type="text" id="verses" size="50" />
  <button onclick="compare()">Compare</button>

  <div id="output"></div>

  <script>
    const japanBibles = {
      meiji: {
        "John 3:16": "神は、そのひとり子を賜うほどにこの世を愛し給えり...",
        "Psalm 23:1": "主はわが牧者なり...",
        "Psalm 23:2": "主はわが魂を生きかえらせ給う...",
        "Psalm 23:3": "主は我を義の道に導き給う...",
      },
      shinkai: {
        "John 3:16": "神は実に、そのひとり子をお与えになったほどに世を愛された...",
        "Psalm 23:1": "主は私の羊飼い。私は乏しいことがありません...",
        "Psalm 23:2": "主は私を緑の牧場に伏させ...",
        "Psalm 23:3": "主は私のたましいを生き返らせ...",
      }
    };

    function parseReference(ref) {
      const result = [];
      const parts = ref.split(',');
      for (let part of parts) {
        part = part.trim();
        const [bookChapter, verseSpec] = part.split(':');
        if (verseSpec.includes('-')) {
          const [start, end] = verseSpec.split('-').map(Number);
          for (let v = start; v <= end; v++) {
            result.push(`${bookChapter}:${v}`);
          }
        } else {
          result.push(`${bookChapter}:${parseInt(verseSpec)}`);
        }
      }
      return result;
    }

    function compare() {
      const input = document.getElementById("verses").value;
      const verses = parseReference(input);
      const outputDiv = document.getElementById("output");
      outputDiv.innerHTML = '';

      for (let version in japanBibles) {
        const header = document.createElement('h2');
        header.textContent = version.toUpperCase();
        outputDiv.appendChild(header);

        const ul = document.createElement('ul');
        for (let verse of verses) {
          const li = document.createElement('li');
          const text = japanBibles[version][verse] || '[未翻訳]';
          li.textContent = `${verse} - ${text}`;
          ul.appendChild(li);
        }
        outputDiv.appendChild(ul);
      }
    }
  </script>
</body>
</html>
